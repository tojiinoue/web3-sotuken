{"ast":null,"code":"import{id}from\"ethers/lib/utils\";import React,{useState,useEffect}from\"react\";import{Form,Button}from\"react-bootstrap\";import Add_students from\"./components/add_student\";import Add_teacher from\"./components/add_teacher\";import View_result from\"./components/view_results\";//import { CSVLink, CSVDownload } from \"react-csv\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Admin_page(props){const[component,setComponent]=useState(\"Add_students\");const[isteacher,setisteacher]=useState(null);/*\n    const [students, setStudents] = useState(null);\n    const [answer_hashs, setAnswer_hashs] = useState(null);\n    const [quiz_data, setQuiz_data] = useState(null);\n    const [csvdownloader, setCsvdownloader] = useState(false);\n    const quiz_id = 10;\n    \n\n    const handle_export_csv = () => {\n        let quiz_data = []\n        for (let i = 0; i < students.length; i++) {\n            quiz_data.push([students[i].toString(), (answer_hashs[students[i]]).toString()]);\n        }\n        setQuiz_data(quiz_data);\n        setCsvdownloader(true);\n    }\n\n    function Create_csvlink(props) {\n        return (\n            <div>\n                <div><CSVLink filename={`quiz_answers${props.cont[1]}.csv`} variant=\"primary\" data={props.cont[0]}>こちらから学生の成績データをダウンロード</CSVLink></div>\n            </div>\n        );\n\n    }\n    */const handleClick=event=>{const{name}=event.target;console.log(name);setComponent(name);};useEffect(()=>{async function is_teacher(){setisteacher(await props.cont.isTeacher());}/*\n        async function get_student_list() {\n            setStudents(await props.cont.get_student_list());\n        }\n        */is_teacher();//get_student_list();\n},[]);/*\n    useEffect(() => {\n        async function answer_hashs() {\n            setAnswer_hashs(await props.cont.get_students_answer_hash_list(students, quiz_id));\n        }\n        answer_hashs();\n    }, [students]);\n    */ //console.log(students);\n//console.log(answer_hashs);\nif(isteacher){return/*#__PURE__*/_jsxs(\"div\",{style:{width:\"70%\",margin:\"0 auto\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"btn-group\",style:{margin:\"20px\"},children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",name:\"Add_students\",className:\"btn btn-primary\",onClick:handleClick,children:\"\\u751F\\u5F92\\u3092\\u8FFD\\u52A0\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"btn-group\",style:{margin:\"20px\"},children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",name:\"Add_teacher\",className:\"btn btn-primary\",onClick:handleClick,children:\"\\u6559\\u54E1orTA\\u3092\\u8FFD\\u52A0\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"btn-group\",style:{margin:\"20px\"},children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",name:\"View_result\",className:\"btn btn-primary\",onClick:handleClick,children:\"\\u751F\\u5F92\\u306E\\u6210\\u7E3E\\u3092\\u95B2\\u89A7\"})}),component===\"Add_students\"&&/*#__PURE__*/_jsx(Add_students,{cont:props.cont}),component===\"Add_teacher\"&&/*#__PURE__*/_jsx(Add_teacher,{cont:props.cont}),component===\"View_result\"&&/*#__PURE__*/_jsx(View_result,{cont:props.cont})]});}else{return/*#__PURE__*/_jsx(_Fragment,{});}}export default Admin_page;","map":{"version":3,"names":["id","React","useState","useEffect","Form","Button","Add_students","Add_teacher","View_result","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Admin_page","props","component","setComponent","isteacher","setisteacher","handleClick","event","name","target","console","log","is_teacher","cont","isTeacher","style","width","margin","children","className","type","onClick"],"sources":["/Users/toji.inoue/Desktop/卒業研究_井上登司フォルダ/web3-sotuken/src/pages/admin_page/admin.jsx"],"sourcesContent":["import { id } from \"ethers/lib/utils\";\nimport React, { useState, useEffect } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport Add_students from \"./components/add_student\";\nimport Add_teacher from \"./components/add_teacher\";\nimport View_result from \"./components/view_results\";\n//import { CSVLink, CSVDownload } from \"react-csv\";\nfunction Admin_page(props) {\n    const [component, setComponent] = useState(\"Add_students\");\n    const [isteacher, setisteacher] = useState(null);\n    /*\n    const [students, setStudents] = useState(null);\n    const [answer_hashs, setAnswer_hashs] = useState(null);\n    const [quiz_data, setQuiz_data] = useState(null);\n    const [csvdownloader, setCsvdownloader] = useState(false);\n    const quiz_id = 10;\n    \n\n    const handle_export_csv = () => {\n        let quiz_data = []\n        for (let i = 0; i < students.length; i++) {\n            quiz_data.push([students[i].toString(), (answer_hashs[students[i]]).toString()]);\n        }\n        setQuiz_data(quiz_data);\n        setCsvdownloader(true);\n    }\n\n    function Create_csvlink(props) {\n        return (\n            <div>\n                <div><CSVLink filename={`quiz_answers${props.cont[1]}.csv`} variant=\"primary\" data={props.cont[0]}>こちらから学生の成績データをダウンロード</CSVLink></div>\n            </div>\n        );\n\n    }\n    */\n\n    const handleClick = (event) => {\n        const { name } = event.target;\n        console.log(name);\n        setComponent(name);\n    };\n\n    useEffect(() => {\n        async function is_teacher() {\n            setisteacher(await props.cont.isTeacher());\n        }\n        /*\n        async function get_student_list() {\n            setStudents(await props.cont.get_student_list());\n        }\n        */\n\n        is_teacher();\n        //get_student_list();\n    }, []);\n\n    /*\n    useEffect(() => {\n        async function answer_hashs() {\n            setAnswer_hashs(await props.cont.get_students_answer_hash_list(students, quiz_id));\n        }\n        answer_hashs();\n    }, [students]);\n    */\n\n    //console.log(students);\n    //console.log(answer_hashs);\n    if (isteacher) {\n        return (\n            <div style={{ width: \"70%\", margin: \"0 auto\" }}>\n                <div className=\"btn-group\" style={{ margin: \"20px\" }}>\n                    <button type=\"button\" name=\"Add_students\" className=\"btn btn-primary\" onClick={handleClick}>\n                        生徒を追加\n                    </button>\n                </div>\n                <div className=\"btn-group\" style={{ margin: \"20px\" }}>\n                    <button type=\"button\" name=\"Add_teacher\" className=\"btn btn-primary\" onClick={handleClick}>\n                        教員orTAを追加\n                    </button>\n                </div>\n                <div className=\"btn-group\" style={{ margin: \"20px\" }}>\n                    <button type=\"button\" name=\"View_result\" className=\"btn btn-primary\" onClick={handleClick}>\n                        生徒の成績を閲覧\n                    </button>\n                </div>\n\n                {/* name={\"回答の追加\"} variable={answer_data} variable1={correct} set={setAnswer_data} set1={setCorrect}/ */}\n                {component === \"Add_students\" && <Add_students cont={props.cont} />}\n                {component === \"Add_teacher\" && <Add_teacher cont={props.cont} />}\n                {component === \"View_result\" && <View_result cont={props.cont} />}\n                {/*\n                {answer_hashs ? <Button variant=\"primary\" onClick={() => handle_export_csv()}>quiz_id[{quiz_id}]のCSVファイルの出力</Button> : \"\"}\n                {csvdownloader === true && <Create_csvlink cont={[quiz_data, quiz_id]} />}\n                */}\n            </div>\n        );\n    } else {\n        return (<></>);\n    }\n}\n\nexport default Admin_page;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}