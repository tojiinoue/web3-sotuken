{"ast":null,"code":"import{useState,useEffect}from\"react\";import{AiOutlineArrowRight}from\"react-icons/ai\";import Change_user from\"./change_user\";import Form from\"react-bootstrap/Form\";import Button from\"react-bootstrap/Button\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function User_card(props){const[name,SetName]=useState(props.user_name);const[image_url,SetImage_url]=useState(props.icons);const[nameError,SetNameError]=useState(\"\");const[state,Setstate]=useState(\"\");const update_handler=()=>{console.log(\"update_handler\");console.log(name);console.log(image_url);if(nameError==false){props.cont.update_user_data(name,image_url);}else{Setstate(false);}};const handle_SetName=event=>{const value=event.target.value;SetName(value);// 電話番号の正規表現パターン\nconst phonePattern=/^\\d{2}[a-zA-Z]\\d{4}$/;// 入力値が正規表現にマッチしない場合は、エラーメッセージを設定\nif(!phonePattern.test(value)){SetNameError(true);console.log(\"errr\");}else{SetNameError(false);}};//初回のみ実行\nuseEffect(()=>{console.log(\"初回のみ実行\");console.log(props.state);console.log(props.user_name);console.log(props.icons);Setstate(props.state);},[]);if(true){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"user_card\",children:[/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:()=>props.cont.add_token_wallet(),style:{position:\"absolute\",top:0,left:0},children:\"\\u30C8\\u30FC\\u30AF\\u30F3\\u3092wallet\\u306B\\u8FFD\\u52A0\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"address\",style:{\"margin-top\":\"50px\"},children:[props.address.slice(0,20),\"....\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",style:{marginTop:\"20px\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col token d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"\\u4FDD\\u6709\\u30C8\\u30FC\\u30AF\\u30F3\"}),/*#__PURE__*/_jsxs(\"div\",{children:[props.token,\"FLT\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col token-result d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"\\u73FE\\u5728\\u306E\\u9806\\u4F4D\"}),/*#__PURE__*/_jsxs(\"div\",{children:[props.num_of_student,\"\\u4EBA\\u4E2D\",props.rank,\"\\u4F4D\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col token-result d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"\\u7372\\u5F97\\u70B9\\u6570\"}),/*#__PURE__*/_jsxs(\"div\",{children:[Number(props.result)/20,\"\\u70B9\"]})]})]})]})});}else{return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"user_card\",children:[/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:()=>Setstate(true),style:{position:\"absolute\",top:0,left:0},children:/*#__PURE__*/_jsx(_Fragment,{children:\"\\u30AD\\u30E3\\u30F3\\u30BB\\u30EB\"})}),/*#__PURE__*/_jsx(\"div\",{style:{\"margin-top\":\"30px\"},children:/*#__PURE__*/_jsxs(Form,{onSubmit:update_handler,children:[/*#__PURE__*/_jsx(\"div\",{className:\"icon_image\",children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"form_image_url\",style:{textAlign:\"left\"},children:[/*#__PURE__*/_jsx(Form.Label,{children:\"\\u30A2\\u30A4\\u30B3\\u30F3\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"image_url\",value:image_url,onChange:event=>SetImage_url(event.target.value)})]})}),/*#__PURE__*/_jsx(\"img\",{src:image_url,alt:\"\",style:{width:`75px`,height:`75px`,borderRadius:\"50%\"}}),/*#__PURE__*/_jsxs(\"div\",{className:\"user_name\",children:[nameError&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:\"\\u5165\\u529B\\u5F62\\u5F0F\\u304C\\u9593\\u9055\\u3063\\u3066\\u3044\\u307E\\u3059\"}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"form_name\",style:{textAlign:\"left\"},children:[/*#__PURE__*/_jsx(Form.Label,{children:\"User_Name \\u4F8B:22P5000\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"name\",placeholder:\"Enter Name\",value:name,onChange:handle_SetName})]})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:update_handler,style:{marginTop:\"20px\"},children:/*#__PURE__*/_jsx(_Fragment,{children:\"\\u66F4\\u65B0\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"address\",children:props.address.slice(0,20)}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",style:{marginTop:\"20px\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col token d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"\\u4FDD\\u6709\\u30C8\\u30FC\\u30AF\\u30F3\"}),/*#__PURE__*/_jsxs(\"div\",{children:[props.token,\"FLT\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col token-result d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"\\u6388\\u696D\\u3067\\u306E\\u914D\\u70B9\"}),/*#__PURE__*/_jsxs(\"div\",{children:[Number(props.result)/20,\"\\u70B9\"]})]})]})]})});}}export default User_card;","map":{"version":3,"names":["useState","useEffect","AiOutlineArrowRight","Change_user","Form","Button","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","User_card","props","name","SetName","user_name","image_url","SetImage_url","icons","nameError","SetNameError","state","Setstate","update_handler","console","log","cont","update_user_data","handle_SetName","event","value","target","phonePattern","test","children","className","variant","onClick","add_token_wallet","style","position","top","left","address","slice","marginTop","token","num_of_student","rank","Number","result","onSubmit","Group","controlId","textAlign","Label","Control","type","placeholder","onChange","src","alt","width","height","borderRadius","color"],"sources":["/Users/toji.inoue/Desktop/web3-sotuken/src/pages/user_page/component/user_card.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\n\nimport { AiOutlineArrowRight } from \"react-icons/ai\";\nimport Change_user from \"./change_user\";\n\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\n\nfunction User_card(props) {\n    const [name, SetName] = useState(props.user_name);\n    const [image_url, SetImage_url] = useState(props.icons);\n    const [nameError, SetNameError] = useState(\"\");\n    const [state, Setstate] = useState(\"\");\n\n    const update_handler = () => {\n        console.log(\"update_handler\");\n        console.log(name);\n        console.log(image_url);\n        if (nameError == false) {\n            props.cont.update_user_data(name, image_url);\n        } else {\n            Setstate(false);\n        }\n    };\n    const handle_SetName = (event) => {\n        const value = event.target.value;\n        SetName(value);\n\n        // 電話番号の正規表現パターン\n        const phonePattern = /^\\d{2}[a-zA-Z]\\d{4}$/;\n\n        // 入力値が正規表現にマッチしない場合は、エラーメッセージを設定\n        if (!phonePattern.test(value)) {\n            SetNameError(true);\n            console.log(\"errr\");\n        } else {\n            SetNameError(false);\n        }\n    };\n    //初回のみ実行\n    useEffect(() => {\n        console.log(\"初回のみ実行\");\n        console.log(props.state);\n        console.log(props.user_name);\n        console.log(props.icons);\n        Setstate(props.state);\n    }, []);\n\n    if (true) {\n        return (\n            <>\n                <div className=\"user_card\">\n                    {/* q:左上に表示 */}\n\n                    {/* <Button variant=\"primary\" onClick={() => Setstate(false)} style={{ position: 'absolute', top: 0, left: 0 }}>\n                        更新\n                    </Button> */}\n                    {/* <img\n                        src={props.icons}\n                        alt=\"\"\n                        style={{\n                            width: `75px`,\n                            height: `75px`,\n                            borderRadius: '50%',\n                        }}\n                    /> */}\n                    {/* <div className=\"user_name\">{props.user_name}</div> */}\n                    <Button variant=\"primary\" onClick={() => props.cont.add_token_wallet()} style={{ position: \"absolute\", top: 0, left: 0 }}>\n                        トークンをwalletに追加\n                    </Button>\n                    <div className=\"address\" style={{ \"margin-top\": \"50px\" }}>\n                        {props.address.slice(0, 20)}....\n                    </div>\n\n                    {/* マージンを設定 */}\n                    <div className=\"row\" style={{ marginTop: \"20px\" }}>\n                        <div className=\"col token d-flex flex-column\">\n                            <div>保有トークン</div>\n                            <div>{props.token}FLT</div>\n                        </div>\n                        <div className=\"col token-result d-flex flex-column\">\n                            <div>現在の順位</div>\n                            <div>{props.num_of_student}人中{props.rank}位</div>\n                        </div>\n                        <div className=\"col token-result d-flex flex-column\">\n                            <div>獲得点数</div>\n                            <div>{Number(props.result)/20}点</div>\n                        </div>\n                    </div>\n                </div>\n            </>\n        );\n    } else {\n        return (\n            <>\n                <div className=\"user_card\">\n                    <Button variant=\"primary\" onClick={() => Setstate(true)} style={{ position: \"absolute\", top: 0, left: 0 }}>\n                        <>キャンセル</>\n                    </Button>\n                    <div style={{ \"margin-top\": \"30px\" }}>\n                        <Form onSubmit={update_handler}>\n                            <div className=\"icon_image\">\n                                <Form.Group className=\"mb-3\" controlId=\"form_image_url\" style={{ textAlign: \"left\" }}>\n                                    <Form.Label>アイコン</Form.Label>\n                                    <Form.Control type=\"text\" placeholder=\"image_url\" value={image_url} onChange={(event) => SetImage_url(event.target.value)} />\n                                </Form.Group>\n                            </div>\n                            <img src={image_url} alt=\"\" style={{ width: `75px`, height: `75px`, borderRadius: \"50%\" }} />\n\n                            <div className=\"user_name\">\n                                {nameError && <p style={{ color: \"red\" }}>入力形式が間違っています</p>}\n                                <Form.Group className=\"mb-3\" controlId=\"form_name\" style={{ textAlign: \"left\" }}>\n                                    <Form.Label>User_Name 例:22P5000</Form.Label>\n                                    <Form.Control type=\"name\" placeholder=\"Enter Name\" value={name} onChange={handle_SetName} />\n                                </Form.Group>\n                            </div>\n                            <Button variant=\"primary\" onClick={update_handler} style={{ marginTop: \"20px\" }}>\n                                <>更新</>\n                            </Button>\n                        </Form>\n                    </div>\n                    <div className=\"address\">{props.address.slice(0, 20)}</div>\n                    <div className=\"row\" style={{ marginTop: \"20px\" }}>\n                        <div className=\"col token d-flex flex-column\">\n                            <div>保有トークン</div>\n                            <div>{props.token}FLT</div>\n                        </div>\n                        <div className=\"col token-result d-flex flex-column\">\n                            <div>授業での配点</div>\n                            <div>{Number(props.result)/20}点</div>\n                        </div>\n                    </div>\n                </div>\n            </>\n        );\n    }\n}\nexport default User_card;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}