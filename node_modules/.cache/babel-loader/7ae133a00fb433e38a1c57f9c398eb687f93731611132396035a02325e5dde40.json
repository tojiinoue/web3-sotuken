{"ast":null,"code":"import { AbiFunctionNotFoundError } from '../../errors/abi.js';\nimport { concatHex } from '../data/concat.js';\nimport { getFunctionSelector } from '../hash/getFunctionSelector.js';\nimport { encodeAbiParameters } from './encodeAbiParameters.js';\nimport { formatAbiItem } from './formatAbiItem.js';\nimport { getAbiItem } from './getAbiItem.js';\nexport function encodeFunctionData(_ref) {\n  let {\n    abi,\n    args,\n    functionName\n  } = _ref;\n  let abiItem = abi[0];\n  if (functionName) {\n    abiItem = getAbiItem({\n      abi,\n      args,\n      name: functionName\n    });\n    if (!abiItem) throw new AbiFunctionNotFoundError(functionName, {\n      docsPath: '/docs/contract/encodeFunctionData'\n    });\n  }\n  if (abiItem.type !== 'function') throw new AbiFunctionNotFoundError(undefined, {\n    docsPath: '/docs/contract/encodeFunctionData'\n  });\n  const definition = formatAbiItem(abiItem);\n  const signature = getFunctionSelector(definition);\n  const data = 'inputs' in abiItem && abiItem.inputs ? encodeAbiParameters(abiItem.inputs, args !== null && args !== void 0 ? args : []) : undefined;\n  return concatHex([signature, data !== null && data !== void 0 ? data : '0x']);\n}","map":{"version":3,"names":["AbiFunctionNotFoundError","concatHex","getFunctionSelector","encodeAbiParameters","formatAbiItem","getAbiItem","encodeFunctionData","_ref","abi","args","functionName","abiItem","name","docsPath","type","undefined","definition","signature","data","inputs"],"sources":["/Users/toji.inoue/Desktop/web3-sotuken/node_modules/viem/utils/abi/encodeFunctionData.ts"],"sourcesContent":["import type { Abi } from 'abitype'\n\nimport { AbiFunctionNotFoundError } from '../../errors/abi.js'\nimport type {\n  AbiItem,\n  GetFunctionArgs,\n  InferFunctionName,\n} from '../../types/contract.js'\nimport { concatHex } from '../data/concat.js'\nimport { getFunctionSelector } from '../hash/getFunctionSelector.js'\n\nimport { encodeAbiParameters } from './encodeAbiParameters.js'\nimport { formatAbiItem } from './formatAbiItem.js'\nimport { type GetAbiItemParameters, getAbiItem } from './getAbiItem.js'\n\nexport type EncodeFunctionDataParameters<\n  TAbi extends Abi | readonly unknown[] = Abi,\n  TFunctionName extends string | undefined = string,\n  _FunctionName = InferFunctionName<TAbi, TFunctionName>,\n> = {\n  functionName?: _FunctionName\n} & (TFunctionName extends string\n  ? { abi: TAbi } & GetFunctionArgs<TAbi, TFunctionName>\n  : _FunctionName extends string\n  ? { abi: [TAbi[number]] } & GetFunctionArgs<TAbi, _FunctionName>\n  : never)\n\nexport function encodeFunctionData<\n  const TAbi extends Abi | readonly unknown[],\n  TFunctionName extends string | undefined = undefined,\n>({\n  abi,\n  args,\n  functionName,\n}: EncodeFunctionDataParameters<TAbi, TFunctionName>) {\n  let abiItem = abi[0] as AbiItem\n  if (functionName) {\n    abiItem = getAbiItem({\n      abi,\n      args,\n      name: functionName,\n    } as GetAbiItemParameters)\n    if (!abiItem)\n      throw new AbiFunctionNotFoundError(functionName, {\n        docsPath: '/docs/contract/encodeFunctionData',\n      })\n  }\n\n  if (abiItem.type !== 'function')\n    throw new AbiFunctionNotFoundError(undefined, {\n      docsPath: '/docs/contract/encodeFunctionData',\n    })\n\n  const definition = formatAbiItem(abiItem)\n  const signature = getFunctionSelector(definition)\n  const data =\n    'inputs' in abiItem && abiItem.inputs\n      ? encodeAbiParameters(abiItem.inputs, (args ?? []) as readonly unknown[])\n      : undefined\n  return concatHex([signature, data ?? '0x'])\n}\n"],"mappings":"AAEA,SAASA,wBAAwB,QAAQ,qBAAqB;AAM9D,SAASC,SAAS,QAAQ,mBAAmB;AAC7C,SAASC,mBAAmB,QAAQ,gCAAgC;AAEpE,SAASC,mBAAmB,QAAQ,0BAA0B;AAC9D,SAASC,aAAa,QAAQ,oBAAoB;AAClD,SAAoCC,UAAU,QAAQ,iBAAiB;AAcvE,OAAM,SAAUC,kBAAkBA,CAAAC,IAAA,EAOkB;EAAA,IAJlD;IACAC,GAAG;IACHC,IAAI;IACJC;EAAY,CACsC,GAAAH,IAAA;EAClD,IAAII,OAAO,GAAGH,GAAG,CAAC,CAAC,CAAY;EAC/B,IAAIE,YAAY,EAAE;IAChBC,OAAO,GAAGN,UAAU,CAAC;MACnBG,GAAG;MACHC,IAAI;MACJG,IAAI,EAAEF;KACiB,CAAC;IAC1B,IAAI,CAACC,OAAO,EACV,MAAM,IAAIX,wBAAwB,CAACU,YAAY,EAAE;MAC/CG,QAAQ,EAAE;KACX,CAAC;;EAGN,IAAIF,OAAO,CAACG,IAAI,KAAK,UAAU,EAC7B,MAAM,IAAId,wBAAwB,CAACe,SAAS,EAAE;IAC5CF,QAAQ,EAAE;GACX,CAAC;EAEJ,MAAMG,UAAU,GAAGZ,aAAa,CAACO,OAAO,CAAC;EACzC,MAAMM,SAAS,GAAGf,mBAAmB,CAACc,UAAU,CAAC;EACjD,MAAME,IAAI,GACR,QAAQ,IAAIP,OAAO,IAAIA,OAAO,CAACQ,MAAM,GACjChB,mBAAmB,CAACQ,OAAO,CAACQ,MAAM,EAAGV,IAAI,aAAJA,IAAI,cAAJA,IAAI,GAAI,EAAyB,CAAC,GACvEM,SAAS;EACf,OAAOd,SAAS,CAAC,CAACgB,SAAS,EAAEC,IAAI,aAAJA,IAAI,cAAJA,IAAI,GAAI,IAAI,CAAC,CAAC;AAC7C"},"metadata":{},"sourceType":"module","externalDependencies":[]}