{"ast":null,"code":"import{Contracts_MetaMask}from\"../../../contract/contracts\";import Form from\"react-bootstrap/Form\";import{useState,useEffect}from\"react\";import MDEditor,{selectWord}from\"@uiw/react-md-editor\";import{useParams}from\"react-router-dom\";import Button from\"react-bootstrap/Button\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Answer_type1(props){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"a\",{children:[/*#__PURE__*/_jsx(\"br\",{}),\"\\u9078\\u629E\\u5F0F\"]}),/*#__PURE__*/_jsx(\"table\",{className:\"table\",children:/*#__PURE__*/_jsx(\"tbody\",{children:props.quiz[6].split(\",\").map(cont=>{let check_box;if(props.answer==cont){check_box=/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"checkbox\",value:cont,id:\"flexCheckChecked\",onChange:()=>{props.setAnswer(cont);},checked:true});}else{check_box=/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"checkbox\",value:cont,id:\"flexCheckChecked\",onChange:()=>{props.setAnswer(cont);}});}return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:check_box}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"left\",children:cont})]},cont);})})})]});}function Answer_type2(props){const answer_data=props.quiz[6].split(\",\");const pattern=answer_data[0];const example=answer_data[1];const[error_collect,SetError_Collect]=useState(true);//正規表現のエラー表示\nconst handle_Test_pattern=(event,target_set)=>{const value=event.target.value;// 入力値が正規表現にマッチしない場合は、エラーメッセージを設定\nif(!new RegExp(pattern).test(value)){target_set(true);}else{target_set(false);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"a\",{children:\"\\u5165\\u529B\\u5F62\\u5F0F\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-10\",children:[\"\\u6B63\\u89E3\\u3092\\u5165\\u529B\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u4F8B:\",example]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:props.answer,onChange:event=>{handle_Test_pattern(event,SetError_Collect);props.setAnswer(event.target.value);}}),error_collect?\"エラー\":\"OK\"]})})]});}function Answer(props){const[answer,setAnswer]=useState();let Contract=new Contracts_MetaMask();const id=props.id;const[quiz,setQuiz]=useState(null);const get_quiz=async()=>{setQuiz(await Contract.get_quiz(id));console.log(quiz);};const create_answer=async()=>{// Set_useing_address(cont.get_address);\nconst res=Contract.create_answer(id,answer);console.log(res);res.then(value=>{console.log(value.value);});};useEffect(()=>{get_quiz();},[]);if(quiz){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",style:{\"text-align\":\"left\",\"margin-bottom\":\"50px\"},children:[/*#__PURE__*/_jsx(\"h2\",{children:quiz[2]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"a\",{style:{\"white-space\":\"pre-wrap\",\"font-size\":\"14px\",\"line-height\":\"1\"},children:[/*#__PURE__*/_jsx(\"br\",{}),quiz[3]]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"a\",{children:[\"\\u51FA\\u984C\\u8005:\",quiz[1]]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{\"data-color-mode\":\"light\",className:\"left\",style:{\"text-align\":\"left\"},children:/*#__PURE__*/_jsx(MDEditor.Markdown,{source:quiz[5]})}),(()=>{if(quiz[12].toString()==0){return/*#__PURE__*/_jsx(Answer_type1,{quiz:quiz,answer:answer,setAnswer:setAnswer});}})(),(()=>{if(quiz[12].toString()==1){return/*#__PURE__*/_jsx(Answer_type2,{quiz:quiz,answer:answer,setAnswer:setAnswer});}})(),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex justify-content-end\",children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:create_answer,children:\"\\u56DE\\u7B54\"})}),quiz[12].toString()]})});}else{/*#__PURE__*/_jsx(_Fragment,{});}}export default Answer;","map":{"version":3,"names":["Contracts_MetaMask","Form","useState","useEffect","MDEditor","selectWord","useParams","Button","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Answer_type1","props","children","className","quiz","split","map","cont","check_box","answer","type","value","id","onChange","setAnswer","checked","scope","Answer_type2","answer_data","pattern","example","error_collect","SetError_Collect","handle_Test_pattern","event","target_set","target","RegExp","test","Answer","Contract","setQuiz","get_quiz","console","log","create_answer","res","then","style","Markdown","source","toString","class","variant","onClick"],"sources":["/Users/toji.inoue/Desktop/卒業研究_井上登司フォルダ/web3-sotuken/src/pages/list_quiz/components/Answer.jsx"],"sourcesContent":["import {Contracts_MetaMask} from \"../../../contract/contracts\";\nimport Form from \"react-bootstrap/Form\";\nimport {useState, useEffect} from \"react\";\nimport MDEditor, {selectWord} from \"@uiw/react-md-editor\";\nimport {useParams} from \"react-router-dom\";\nimport Button from \"react-bootstrap/Button\";\nfunction Answer_type1(props) {\n    return (\n        <>\n            <a>\n                <br />\n                選択式\n            </a>\n            <table className=\"table\">\n                <tbody>\n                    {props.quiz[6].split(\",\").map((cont) => {\n                        let check_box;\n                        if (props.answer == cont) {\n                            check_box = (\n                                <input\n                                    className=\"form-check-input\"\n                                    type=\"checkbox\"\n                                    value={cont}\n                                    id=\"flexCheckChecked\"\n                                    onChange={() => {\n                                        props.setAnswer(cont);\n                                    }}\n                                    checked\n                                />\n                            );\n                        } else {\n                            check_box = (\n                                <input\n                                    className=\"form-check-input\"\n                                    type=\"checkbox\"\n                                    value={cont}\n                                    id=\"flexCheckChecked\"\n                                    onChange={() => {\n                                        props.setAnswer(cont);\n                                    }}\n                                />\n                            );\n                        }\n                        return (\n                            <tr key={cont}>\n                                <th scope=\"col\">{check_box}</th>\n\n                                <th scope=\"col\" className=\"left\">\n                                    {cont}\n                                </th>\n                            </tr>\n                        );\n                    })}\n                </tbody>\n            </table>\n        </>\n    );\n}\n\nfunction Answer_type2(props) {\n    const answer_data = props.quiz[6].split(\",\");\n    const pattern = answer_data[0];\n    const example = answer_data[1];\n    const [error_collect, SetError_Collect] = useState(true);\n\n    //正規表現のエラー表示\n    const handle_Test_pattern = (event, target_set) => {\n        const value = event.target.value;\n\n        // 入力値が正規表現にマッチしない場合は、エラーメッセージを設定\n        if (!new RegExp(pattern).test(value)) {\n            target_set(true);\n        } else {\n            target_set(false);\n        }\n    };\n\n    return (\n        <>\n            <a>入力形式</a>\n\n            <div className=\"row\">\n                <div className=\"col-10\">\n                    正解を入力\n                    <br />\n                    <p>例:{example}</p>\n                    {/* 1行のみのフォームにしたい */}\n                    <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        value={props.answer}\n                        onChange={(event) => {\n                            handle_Test_pattern(event, SetError_Collect);\n                            props.setAnswer(event.target.value);\n                        }}\n                    />\n                    {error_collect ? \"エラー\" : \"OK\"}\n                </div>\n            </div>\n        </>\n    );\n}\n\nfunction Answer(props) {\n    const [answer, setAnswer] = useState();\n\n    let Contract = new Contracts_MetaMask();\n    const id = props.id;\n    const [quiz, setQuiz] = useState(null);\n    const get_quiz = async () => {\n        setQuiz(await Contract.get_quiz(id));\n        console.log(quiz);\n    };\n\n    const create_answer = async () => {\n        // Set_useing_address(cont.get_address);\n        const res = Contract.create_answer(id, answer);\n        console.log(res);\n        res.then((value) => {\n            console.log(value.value);\n        });\n    };\n    useEffect(() => {\n        get_quiz();\n    }, []);\n\n    if (quiz) {\n        return (\n            <>\n                <div className=\"container\" style={{\"text-align\": \"left\", \"margin-bottom\": \"50px\"}}>\n                    <h2>{quiz[2]}</h2>\n                    <br />\n                    <a style={{\"white-space\": \"pre-wrap\", \"font-size\": \"14px\", \"line-height\": \"1\"}}>\n                        <br />\n                        {quiz[3]}\n                    </a>\n                    <br />\n                    <br />\n                    <a>出題者:{quiz[1]}</a>\n                    <br />\n                    <br />\n\n                    <div data-color-mode=\"light\" className=\"left\" style={{\"text-align\": \"left\"}}>\n                        <MDEditor.Markdown source={quiz[5]} />\n                    </div>\n\n                    {(() => {\n                        if (quiz[12].toString() == 0) {\n                            return <Answer_type1 quiz={quiz} answer={answer} setAnswer={setAnswer} />;\n                        }\n                    })()}\n                    {(() => {\n                        if (quiz[12].toString() == 1) {\n                            return <Answer_type2 quiz={quiz} answer={answer} setAnswer={setAnswer} />;\n                        }\n                    })()}\n\n                    <div class=\"d-flex justify-content-end\">\n                        <Button variant=\"primary\" onClick={create_answer}>\n                            回答\n                        </Button>\n                    </div>\n                    {quiz[12].toString()}\n                </div>\n            </>\n        );\n    } else {\n        <></>;\n    }\n}\nexport default Answer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}